<section class="cover imagebg text-center search-section pt-0" data-overlay="4" >
  <!-- <app-head-navbar></app-head-navbar> -->
  <!-- <div class="background-image-holder">
    <img alt="background" src="assets/img/bg5-min.jpg" />
  </div> -->
  <div>
    <div *ngIf="!bannerImg" class="homeCarousel">
        <img src="assets/img/banner2.png" alt="">
    </div>
    <div class="homeCarousel">
        <div *ngFor="let img of bannerImg">
            <img src="https://cpanel.localcalls.in/public/admin/uploads/{{img.image_path}}" alt="">
        </div>
    </div>
  </div>
  <div class="container pos-absolute ">
    <div class="row">
      <div class="col-md-10 col-lg-9">
        <h1 style="font-weight: 600" class="mb-2">Aapka Apna Local Expert</h1>
        <p class="lead" style="font-weight: 600;font-size: 14px;">
            Instant access to best rated services and products
        </p>
        
        <div class=" text-left container-form mt-5">
          <form class="form--horizontal row m-0">
            <div class="search-fields col-md-4 p-0">
                <input type="text" class="searh-input" style="border-radius: 25px;border: none" placeholder="What are you looking for" name="searchTerm" [(ngModel)]="searchTerm" (input)="showSuggestions()" autocomplete="off">
                <ul class="searchUl" #searchUL *ngIf="allData">
                    <li *ngFor="let data of allData | homeSearch: searchTerm  " (click)="selectItem(data.table_name, data.id, data.type)">{{data.table_name}} <strong style="font-size: 12px">({{data.type}})</strong> </li>
                </ul>
            </div>
            <div class="search-fields col-md-2 p-0">
                
                <div class="dropdown">
                    <button class="btn dropdown-toggle btn-search" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" #locationDrop>
                        Your Location
                    </button>
                    <div class="dropdown-menu" aria-labelledby="locationDropdown" style="height: 200px;
                    overflow: auto;width: 100%">
                        <a class="dropdown-item text-dark search-drop" (click)="selectLoc(city)" href="javascript:void(0)" *ngFor="let city of city | orders:'city_name'">{{city.city_name}}</a>
                    </div>
                </div>
            </div>
            <div class="search-fields col-md-3 p-0">
               
                <div class="dropdown">
                    <button  class="btn dropdown-toggle btn-search" type="button" id="categoryDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" #categoryDrop>
                        Select Category
                    </button>

                    <div class="dropdown-menu" aria-labelledby="categoryDropdown" style="height: 200px;
                    overflow: auto;width: 100%;">
                        <a class="dropdown-item text-dark search-drop" (click)="selectCat(category)"  href="javascript:void(0)" *ngFor="let category of categories | orders:'category'">{{category.category}}</a>
                    </div>
                </div>
                
            </div>
            <div class="search-fields col-md-3 p-0">
                <button class="btn btn-success" (click)="fetchResults()" style="border-radius:  25px" type="submit" >
                    Search Now
                    <span class="spinner" *ngIf="process">
                        <i class="fas fa-spinner"></i>
                    </span>
                </button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <!--end of row-->
  </div> 
  <!--end of container-->
</section>

<!--Subscribe Modal/Popup-->

<div class="modal mx-auto" id="myModal" style="background: rgba(0,0,0,0.3);z-index: 9999;">
    <div class="animated zoomIn modal-dialog" style="max-width: 680px;margin-top: 125px;">
        <div style="background:#fff;"  class="modal-content text-center">
            <div class="modal-header">
                <h4 class="text-center"><strong>Support</strong></h4>
                <span style="position:absolute;right: 10px;top: 10px;cursor: pointer;" data-dismiss="modal"><i class="fas fa-times-circle"></i></span>
            </div>
            <div class="modal-body" style="padding: 20px">
                <div class="row">
                    <div class="col-md-4 logo-div">
                        <img src="assets/img/logo-black.png" alt="" class="subscribe-logo">
                    </div>
                    <div class="col-md-8" style="padding: 20px 50px;"> 
                        <input class="input-round" type="text" [(ngModel)]="name" name="name" placeholder="Name" id="name">
                        <input class="input-round" type="email" [(ngModel)]="email" name="email" placeholder="Email" id="email">
                        <input class="input-round" type="number" [(ngModel)]="mobile" name="mobile" ng-pattern="integerval" placeholder="Mobile" id="mobile">
                        <button class="btn has-gradient text-white" id="submit" (click)="SupportRequest()">Submit</button>
                        <h6 class="text-center" style="cursor: pointer; margin: 12px 0 8px;"  data-dismiss="modal">No, Thanks </h6>           
                        <h6 class="text-center animated zoomIn">{{Success}}</h6>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
</div>

<button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#messageModal" #btnModal style="display: none;"></button>



<!-- Modal -->
<div id="messageModal" class="modal fade" role="dialog">
  <div class="modal-dialog" style="margin-top: 30vh;">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-body text-center">
          <div class="mb-4">
                <h5 class="text-center">No vendors in this category are available.</h5>
          </div>
        
        <button type="button" class="btn btn-round has-gradient text-white" data-dismiss="modal">OK</button>
      </div>
    </div>

  </div>
</div>